[tox]

[mypy]

## Checking options (We want as strict as possible):
check_untyped_defs = True
disallow_untyped_calls = True
disallow_untyped_defs = True
no_implicit_optional = True
strict_optional = True
warn_incomplete_stub = True
warn_redundant_casts = True
warn_return_any = True
warn_unused_ignores = True
ignore_missing_imports=True
disallow_subclassing_any = True

[mypy-decimal.*]

ignore_errors = True

[flake8]

## Define error messages to be ignored.
ignore =
    ## We want double hash to be allowed for comments.
    - E266

## Defines files and directories to be excluded from checking.
exclude =
    *.egg-info,
    *.py[codi],
    .cache,
    .mypy_cache,
    __static,
    .eggs,
    .git,
    .tox,
    __pycache__,
    build,
    dev,
    dist

## Defines maximum MCCABE complexity allowed.
## TODO: Gradually decrease down to 5.
max-complexity = 14

## Defines the maximum line length.
max-line-length = 120

## Indicates that doctests to be run.
doctests = True

## Indicates that we want summary statistics of error messages, if any.
statistics = True

[testenv]

deps =
    pytest==3.7.2
    mypy
    flake8
commands =
    pytest --verbose --ignore=setup.py --doctest-modules
    mypy --config-file tox.ini pypara
    flake8
